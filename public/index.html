<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Troop 634 Cookbook - Balanced, budget-friendly recipes for scouts">
    <meta name="theme-color" content="#111827">
    <title>Troop 634 Cookbook</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="/Logo.webp" alt="BSA Logo" class="navbar-logo">
                <span>Troop 634 Cookbook</span>
            </a>
        </div>
    </nav>

    <div class="main-content">
        <div class="container mt-4">
            <div class="row">
                <div class="col-md-4">
                    <div class="filter-section">
                        <h3><i class="fas fa-filter me-2"></i>Filter Meals</h3>
                        <div class="meal-types">
                            <button class="btn btn-filter" data-type="all">
                                <i class="fas fa-globe me-1"></i>Show All
                            </button>
                            <button class="btn btn-filter" data-type="breakfast">
                                <i class="fas fa-sun me-1"></i>Breakfast
                            </button>
                            <button class="btn btn-filter" data-type="lunch">
                                <i class="fas fa-hamburger me-1"></i>Lunch
                            </button>
                            <button class="btn btn-filter" data-type="dinner">
                                <i class="fas fa-moon me-1"></i>Dinner
                            </button>
                            <button class="btn btn-filter" data-type="snack">
                                <i class="fas fa-cookie-bite me-1"></i>Snack
                            </button>
                        </div>
                        <div class="serving-calculator mt-4">
                            <h4><i class="fas fa-users me-2"></i>Serving Calculator</h4>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i class="fas fa-user-friends"></i>
                                </span>
                                <input type="number" id="servings" class="form-control" value="1" min="1" max="100">
                            </div>
                            <button class="btn btn-primary mt-2" id="calculateBtn">
                                <i class="fas fa-calculator me-1"></i>Calculate Portions
                            </button>
                        </div>
                        <div class="contact-info">
                            <i class="fas fa-info-circle"></i>
                            <p>If you have any questions or concerns, please contact <a href="mailto:nithish.kolaram@gmail.com">Nithish</a></p>
                        </div>
                    </div>
                    <div id="adminControls" class="admin-section mt-4" style="display: none;">
                        <div class="card">
                            <div class="card-body">
                                <h4><i class="fas fa-cog me-2"></i>Admin Controls</h4>
                                <button class="btn btn-success w-100 mb-2" id="addRecipeBtn">
                                    <i class="fas fa-plus me-2"></i>Add New Recipe
                                </button>
                                <button class="btn btn-danger w-100" id="adminLogoutBtn">
                                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div id="recipe-list" class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom action buttons -->
    <div class="bottom-actions">
        <button id="adminLoginBtn" class="btn btn-outline-light order-1">
            <i class="fas fa-lock"></i>
            <span>Admin</span>
        </button>
        <button id="bugManagerBtn" class="btn btn-outline-info order-2">
            <i class="fas fa-bug"></i>
            <span>Bug Manager</span>
        </button>
        <button id="viewBugsBtn" class="btn btn-info order-3">
            <i class="fas fa-list"></i>
            <span>View Issues</span>
        </button>
        <button id="reportBugBtn" class="btn btn-danger order-4">
            <i class="fas fa-bug"></i>
            <span>Report Issue</span>
        </button>
    </div>

    <div class="modal fade" id="recipeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="recipe-details"></div>
                </div>
                <div class="modal-footer admin-controls" style="display: none;">
                    <button type="button" class="btn btn-warning edit-recipe">
                        <i class="fas fa-edit me-2"></i>Edit Recipe
                    </button>
                    <button type="button" class="btn btn-danger delete-recipe">
                        <i class="fas fa-trash me-2"></i>Delete Recipe
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editRecipeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add/Edit Recipe</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="recipeForm">
                        <div class="mb-3">
                            <label for="recipeName" class="form-label">Recipe Name</label>
                            <input type="text" class="form-control" id="recipeName" required>
                        </div>
                        <div class="mb-3">
                            <label for="recipeType" class="form-label">Type</label>
                            <select class="form-select" id="recipeType" required>
                                <option value="breakfast">Breakfast</option>
                                <option value="lunch">Lunch</option>
                                <option value="dinner">Dinner</option>
                                <option value="snack">Snack</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="recipePrice" class="form-label">Base Price (for 1 serving)</label>
                            <input type="number" class="form-control" id="recipePrice" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Ingredients</label>
                            <div id="ingredientsList">
                            </div>
                            <button type="button" class="btn btn-outline-primary btn-sm mt-2" id="addIngredientBtn">
                                <i class="fas fa-plus me-1"></i>Add Ingredient
                            </button>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nutrition (per serving)</label>
                            <div class="row">
                                <div class="col-md-4 mb-2">
                                    <input type="number" class="form-control" id="calories" placeholder="Calories" required>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <input type="number" class="form-control" id="protein" placeholder="Protein (g)" required>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <input type="number" class="form-control" id="carbs" placeholder="Carbs (g)" required>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <input type="number" class="form-control" id="fat" placeholder="Fat (g)" required>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <input type="number" class="form-control" id="fiber" placeholder="Fiber (g)" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Instructions</label>
                            <div id="instructionsList">
                            </div>
                            <button type="button" class="btn btn-outline-primary btn-sm mt-2" id="addInstructionBtn">
                                <i class="fas fa-plus me-1"></i>Add Instruction
                            </button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveRecipeBtn">Save Recipe</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="bugManagerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Bug Manager Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="bugManagerForm">
                        <div class="mb-3">
                            <label for="bugManagerPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="bugManagerPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="bugReportModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Report an Issue</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="bugReportForm">
                        <div class="mb-3">
                            <label for="reporterName" class="form-label">Your Name</label>
                            <input type="text" class="form-control" id="reporterName" required>
                        </div>
                        <div class="mb-3">
                            <label for="bugDescription" class="form-label">Issue Description</label>
                            <textarea class="form-control" id="bugDescription" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Report</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="bugListModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Reported Issues</h5>
                    <div class="bug-manager-controls" style="display: none;">
                        <button type="button" class="btn btn-outline-light me-2" id="bugManagerLogoutBtn">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </button>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="bugList" class="list-group">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modals -->
    <div class="modal fade" id="confirmFixModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Fix</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to mark this bug as fixed?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" id="confirmFixBtn">
                        <i class="fas fa-check me-2"></i>Yes, Mark as Fixed
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="confirmDeleteModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Delete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        This action cannot be undone!
                    </div>
                    <p>Are you sure you want to delete this bug report?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
                        <i class="fas fa-trash me-2"></i>Yes, Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="adminModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Admin Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="adminLoginForm">
                        <div class="mb-3">
                            <label for="adminPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="adminPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="bugManagerLogoutModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Logout</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <i class="fas fa-sign-out-alt fa-3x text-info mb-3"></i>
                        <p class="mb-0">Are you sure you want to log out as Bug Manager?</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-info" id="confirmBugManagerLogoutBtn">
                        Yes, Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="scripts.js"></script>
</body>
</html>
